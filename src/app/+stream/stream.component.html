<div class="container-fluid">
  <div class="row pt-5 pl-5">
    <div class="col-3">
      <h3>Stream</h3>
    </div>
  </div>

  <div class="row pt-3 pl-5">
    <div class="col-12">
      <input id="file" (change)="handleFileInput($event.target.files)" type="file">
    </div>
    <div class="col-4 d-flex">
      <b class="my-auto mr-3">OR </b>
      <mat-form-field class="w-100">
        <input [(ngModel)]="magnet" matInput placeholder="Paste magnet URL here">
      </mat-form-field>
    </div>
    <div class="col-2 d-flex">
      <button
        mat-raised-button
        (click)="previewTorrent()"
        class="my-auto"
      >
        Preview
      </button>
    </div>
  </div>

  <div class="row pt-3 pl-5">

    <div class="col-5">
      <p>{{files ? 'Please select file to stream' : 'Please provide magnet URL to inspect files'}}</p>
      <mat-radio-group [(ngModel)]="selectedFile">

        <mat-radio-button
          *ngFor="let file of files"
          [value]="file.name"

          class="pr-3"
        >
          {{file.name}} {{file.length}}
        </mat-radio-button>
      </mat-radio-group>
      <br>
      <button *ngIf="selectedFile" (click)="streamTorrent()" mat-raised-button class="mt-3 mr-3">
        Stream
      </button>
      <button *ngIf="activeTorrent" (click)="destroyTorrent()" mat-raised-button>
        Destroy torrent
      </button>
    </div>

  </div>

  <div class="row pt-3 pl-5">
    <div class="col-12">
      <div class="video-container" #video></div>
    </div>
  </div>

</div>
